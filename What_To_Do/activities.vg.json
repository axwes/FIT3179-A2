{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 900,
  "height": 550,
  "background": "rgba(0, 0, 0, 0)",
  
  "params": [
    {
      "name": "zoom_level",
      "value": 900,
      "bind": {
        "input": "range",
        "min": 900,
        "max": 50000,
        "step": 100,
        "name": "Zoom: "
      }
    },
    {
      "name": "center_to",
      "value": [135, -25],
      "bind": {
        "input": "select",
        "options": [
          [135, -25],
          [144.9631, -37.8136],  
          [153.0281, -25.4679],  
          [146.2, -18],  
          [115.8575, -30.9505],  
          [138.6007, -34.9285],  
          [148.3257, -41.8821],  
          [131.8456, -15.4634],  
          [133, -24],  
          [149.1300, -35.2809]   
        ],
        "labels": [
          "Australia",
          "Victoria",
          "New South Wales",
          "Queensland (South East)",
          "Queensland (North)",
          "Western Australia",
          "South Australia",
          "Tasmania",
          "Northern Territory (North)",
          "Northern Territory (South)",
          "Australian Capital Territory"
        ],
        "name": "Map Center: "
      }
    },
    {
      "name": "categorySelection",
      "value": "All Categories",
      "bind": {
        "input": "select",
        "options": ["All Categories", "Activities & Adventure", "Relaxation & Wellness", "Sightseeing & Nature"],
        "name": "Select Category: "
      }
    }
  ],
  "projection": {
    "type": "equirectangular",
    "center": {"expr": "center_to"},
    "scale": {"expr": "zoom_level"}
  },
  "layer": [
    {
      "data": {
        "url": "https://raw.githubusercontent.com/axwes/FIT3179-A2/main/Each_State_Visitors/australia_map.json",
        "format": {"type": "topojson", "feature": "STE_2021_AUST_GDA2020"}
      },
      "mark": {"type": "geoshape", "stroke": "#4A90E2", "fill": "#C5E1A5"}
    },
    {
      "data": {
        "url": "https://raw.githubusercontent.com/axwes/FIT3179-A2/refs/heads/main/What_To_Do/activities.csv"
      },
      "transform": [
        {
          "calculate": "{'Activities & Adventure': 'üèÇ', 'Relaxation & Wellness': 'üèñÔ∏è', 'Sightseeing & Nature': 'üèûÔ∏è'}[datum.Category]",
          "as": "emoji"
        },
        {
          "filter": "datum.Category === categorySelection || categorySelection === 'All Categories'"
        }
      ],
      "mark": {
        "type": "text",
        "align": "center",
        "baseline": "middle",
        "fontSize": 15
      },
      "encoding": {
        "longitude": {"field": "Longitude", "type": "quantitative"},
        "latitude": {"field": "Latitude", "type": "quantitative"},
        "text": {"field": "emoji", "type": "nominal"},
        "tooltip": [
          {"field": "Activities", "type": "nominal", "title": "Activity"},
          {"field": "Location", "type": "nominal", "title": "Location"},
          {"field": "Category", "type": "nominal", "title": "Category"},
          {"field": "Region", "type": "nominal", "title": "Region"}
        ]
      }
    },
    {
      "data": {
        "values": [
          {"category": "Activities & Adventure", "emoji": "üèÇ", "y_pos": 100},
          {"category": "Relaxation & Wellness", "emoji": "üèñÔ∏è", "y_pos": 105},
          {"category": "Sightseeing & Nature", "emoji": "üèûÔ∏è", "y_pos": 110}
        ]
      },
      "mark": {
        "type": "text",
        "align": "left",
        "baseline": "middle",
        "fontSize": 15
      },
      "encoding": {
        "x": {"value": 20},  
        "y": {"field": "y_pos", "type": "quantitative", "axis": null}, 
        "text": {"field": "emoji", "type": "nominal"},
        "tooltip": {"field": "category", "type": "nominal", "title": "Category"}
      }
    },
    {
      "data": {
        "values": [
          {"category": "Activities & Adventure", "y_pos": 100},
          {"category": "Relaxation & Wellness", "y_pos": 105},
          {"category": "Sightseeing & Nature", "y_pos": 110}
        ]
      },
      "mark": {
        "type": "text",
        "align": "left",
        "baseline": "middle",
        "fontSize": 12
      },
      "encoding": {
        "x": {"value": 45}, 
        "y": {"field": "y_pos", "type": "quantitative"},  
        "text": {"field": "category", "type": "nominal"},
        "tooltip": {"field": "category", "type": "nominal", "title": "Category"}
      }
    }
  ],
  "config": {
    "axis": {
      "domain": false,
      "grid": false
    },
    "view": {
      "stroke": null
    }
  }
}
